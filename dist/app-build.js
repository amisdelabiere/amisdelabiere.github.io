"bundle";!function(){var a=System.amdDefine;a("app.html!github:systemjs/plugin-text@0.0.3.js",[],function(){return'<template> <require from="nav-bar.html"></require> <require from="bootstrap/css/bootstrap.css"></require> <require from="styles/styles.css"></require> <nav-bar router.bind="router"></nav-bar> <div class="page-host"> <router-view></router-view> </div> </template>'})}(),function(){var a=System.amdDefine;a("app.js",["require","exports"],function(a,b){"use strict";var c=function(){function a(){}return a.prototype.configureRouter=function(a,b){a.title="Le Club des Amis de la Bière",a.map([{route:["","bienvenue"],name:"bienvenue",moduleId:"bienvenue",nav:!0,title:"Bienvenue"},{route:"assemblees",name:"assemblees",moduleId:"assemblees",nav:!0,title:"Assemblées"},{route:"assemblees/:date",name:"assemblees",moduleId:"./assemblees",nav:!1,title:"Assemblées"},{route:"assemblees/:date/:beer",name:"assemblees",moduleId:"./assemblees",nav:!1,title:"Assemblées"},{route:"bieres",name:"bieres",moduleId:"bieres",nav:!0,title:"Bières"},{route:"membres",name:"membres",moduleId:"membres",nav:!0,title:"Membres"},{route:"apropos",name:"apropos",moduleId:"apropos",nav:!0,title:"À Propos"}]),this.router=b},a}();b.App=c})}(),function(){var a=System.amdDefine;a("apropos.html!github:systemjs/plugin-text@0.0.3.js",[],function(){return'<template> <section class="au-animate"> <div class="apropos"> <blockquote> Une pinte de bière est un mets de roi. </blockquote> <cite>William Shakespeare</cite> </div> </section> </template>'})}(),function(){var a=System.amdDefine;a("apropos.js",["require","exports"],function(a,b){"use strict";var c=function(){function a(){}return a}();b.APropos=c})}(),function(){var a=System.amdDefine;a("assemblees.html!github:systemjs/plugin-text@0.0.3.js",[],function(){return'<template> <require from="widgets/beer.html"></require> <section class="au-animate"> <div class="assemblees"> <div class="container"> <div class="row"> <div class="col-xs-1 col-sm-1 col-md-1 col-lg-1"> <svg width="25" height="40" class="timeline-backward" click.delegate="timelineBackward()"> <path d="M25,0 L0,20 L25,40 Z"/> </svg> </div> <div class="col-xs-10 col-sm-10 col-md-10 col-lg-10"> <div class="timeline"> <div class="scroller"> <div repeat.for="x of data.tastings" id="date-${x.date}" class.bind="selectedDate === x.date.toString()? \'selected\': \'\'" click.delegate="selectDate($index)"> ${x.date} </div> </div> </div> </div> <div class="col-xs-1 col-sm-1 col-md-1 col-lg-1"> <svg width="25" height="40" class="timeline-forward" click.delegate="timelineForward()"> <path d="M0,0 L25,20 L0,40 Z"/> </svg> </div> </div> <div class="row"> <div class="col-md-4 tasting-photo"> <img src.bind="selectedTasting.photos[0]"> </div> <div class="col-md-8 tasting"> <h1>Assemblée du ${selectedTasting.formattedLongDate}</h1> <form> <div class="form-group row"> <label for="inputHost" class="col-sm-2 form-control-label">Hôte</label> <div class="col-sm-10"> <span class="form-control">${selectedTasting.host}</span> <input class="form-control hidden" id="inputHost" placeholder="Hôte" value="${selectedTasting.host}"> </div> </div> <div class="form-group row"> <label for="inputDate" class="col-sm-2 form-control-label">Date</label> <div class="col-sm-10"> <span class="form-control">${selectedTasting.date}</span> <input class="form-control hidden" id="inputDate" placeholder="Date" value="${selectedTasting.date}"> </div> </div> <div class="form-group row"> <label for="inputLocation" class="col-sm-2 form-control-label">Emplacement</label> <div class="col-sm-10"> <span class="form-control">${selectedTasting.location}</span> <input class="form-control hidden" id="inputLocation" placeholder="Emplacement" value="${selectedTasting.location}"> </div> </div> <div class="form-group row"> <label for="inputBeersSummary" class="col-sm-2 form-control-label">Bières</label> <div class="col-sm-10"> <ul class="beer-menu"> <li repeat.for="beer of selectedTasting.beers"><a href="#/assemblees/${selectedTasting.formattedShortDate}/${beer.id}">${beer.name}</a></li> </ul> </div> </div> </form> </div> </div> <div class="row"> <div class="md-col-12"> <ul class="nav nav-tabs beers-tab"> <li role="presentation" repeat.for="beer of selectedTasting.beers" class="${selectedBeer.id === beer.id ? \'active\' : \'\'}"><a href="#/assemblees/${selectedTasting.formattedShortDate}/${beer.id}">${beer.name}</a></li> </ul> </div> </div> <div class="row"> <beer beer.bind="selectedBeer"></beer> </div> </div> </div> </section> </template>'})}(),function(){var a=System.amdDefine,b=this&&this.__decorate||function(a,b,c,d){var e,f=arguments.length,g=3>f?b:null===d?d=Object.getOwnPropertyDescriptor(b,c):d;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)g=Reflect.decorate(a,b,c,d);else for(var h=a.length-1;h>=0;h--)(e=a[h])&&(g=(3>f?e(g):f>3?e(b,c,g):e(b,c))||g);return f>3&&g&&Object.defineProperty(b,c,g),g},c=this&&this.__metadata||function(a,b){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(a,b):void 0};a("assemblees.js",["require","exports","aurelia-framework","aurelia-http-client","aurelia-router","./modules/datasource","aurelia-dialog","moment","moment/locale/fr-ca"],function(a,d,e,f,g,h,i,j){"use strict";var k=function(){function a(a,b,c){this.dates=[],this.selectedDate=new Date,this.clicked=!1,this.clickPagePosition=0,this.clickScrollPosition=0,this.http=a,this.router=b,this.dialogService=c,j.locale("fr-ca")}return a.prototype.activate=function(a){var b=this;return this.http.get("/data/bieres.json").then(function(c){var d=$.parseJSON(c.response),e=$.extend(new h.Model,d);e.tastings.forEach(function(c,d){if(c.photos&&!(c.photos.length<1)){c.formattedShortDate=j(c.date).format("YYYY-MM-DD"),c.formattedLongDate=j(c.date).format("LL"),c.photos[0]="/images/photos/"+c.photos[0],a.date&&(c.selected=c.formattedShortDate===a.date,c.selected&&(b.selectedTasting=c,b.selectedDate=c.date));var e=c.photos[0];e=e.substring(0,e.lastIndexOf(".")),c.beers.forEach(function(c,d){c.image=e+"-"+(d+1)+".jpg",c.id=c.name.replace(/^\p{L}/g,"").replace(/\s/g,""),a.beer?(c.selected=c.id===a.beer,c.selected&&(b.selectedBeer=c)):0===d&&(b.selectedBeer=c)})}}),b.data=e})},a.prototype.attached=function(){var a=100*this.data.tastings.length;$(".scroller").css("width",a+"px"),$(".scroller").on("mousedown",this.timelineMouseDown),$(".scroller").on("mousemove",this.timelineMouseMove),$(".scroller").on("mouseup",this.timelineMouseUp),$(".scroller").on("mouseleave",this.timelineMouseUp),$(".scroller").on("touchstart",this.timelineTouchStart),$(".scroller").on("touchmove",this.timelineTouchMove),$(".scroller").on("touchend",this.timelineTouchEnd),this.selectedDate&&this.selectedTasting?this.moveToSelectedDate():this.selectDate(this.data.tastings.length-1)},a.prototype.selectDate=function(a){this.selectedTasting=this.data.tastings[a],this.selectedDate=this.selectedTasting.date,this.selectedBeer=this.selectedTasting.beers[0],this.router.navigate("assemblees/"+this.selectedTasting.formattedShortDate+"/"+this.selectedBeer.id)},a.prototype.timelineBackward=function(){var a=this,b=this.data.tastings.findIndex(function(b){return b.date===a.selectedTasting.date});b>0&&(this.selectedTasting=this.data.tastings[--b],this.selectedDate=this.selectedTasting.date,this.selectedBeer=this.selectedTasting.beers[0]),this.moveToSelectedDate()},a.prototype.timelineForward=function(){var a=this,b=this.data.tastings.findIndex(function(b){return b.date===a.selectedTasting.date});b+1<this.data.tastings.length&&(this.selectedTasting=this.data.tastings[++b],this.selectedDate=this.selectedTasting.date,this.selectedBeer=this.selectedTasting.beers[0]),this.moveToSelectedDate()},a.prototype.moveToSelectedDate=function(){var a=this,b=this.data.tastings.findIndex(function(b){return b.date===a.selectedTasting.date}),c=100*b;console.info("Selected date changed",this.selectedTasting.date),console.info("Position changed",c),$(".timeline").animate({scrollLeft:c},100)},a.prototype.timelineMouseDown=function(a){this.clicked=!0,this.clickPagePosition=a.pageX,this.clickScrollPosition=$(".timeline").scrollLeft()},a.prototype.timelineMouseMove=function(a){this.clicked&&$(".timeline").scrollLeft(this.clickScrollPosition+this.clickPagePosition-a.pageX)},a.prototype.timelineMouseUp=function(){this.clicked=!1},a.prototype.timelineTouchStart=function(a){this.clicked=!0,this.clickPagePosition=a.originalEvent.changedTouches[0].pageX,this.clickScrollPosition=$(".timeline").scrollLeft()},a.prototype.timelineTouchMove=function(a){this.clicked&&$(".timeline").scrollLeft(this.clickScrollPosition+this.clickPagePosition-a.originalEvent.changedTouches[0].pageX)},a.prototype.timelineTouchEnd=function(){this.clicked=!1},a.inject=[i.DialogService],a=b([e.autoinject,c("design:paramtypes",[f.HttpClient,g.Router,i.DialogService])],a)}();d.Assemblees=k})}(),function(){var a=System.amdDefine;a("bienvenue.html!github:systemjs/plugin-text@0.0.3.js",[],function(){return'<template> <section class="au-animate"> <div class="welcome"> <div class="hero au-animate"> <div></div> </div> <div class="logo au-animate"> <img src="/images/brand/logo-transparent.png" alt="logo"> </div> </div> <div class="preview au-animate"> <div class="container"> <div class="row"> <div click.delegate="navMembres()" class="col-xs-3 col-sm-3 col-lg-3 col-md-3 card card-1 au-animate"> <div class="image"></div> <div> <span>Membres Officiels</span> </div> </div> <div click.delegate="navAssemblees()" class="col-xs-3 col-sm-3 col-lg-3 col-md-3 card card-2 au-animate"> <div class="image"></div> <div> <span>Assemblées</span> </div> </div> <div click.delegate="navBieres()" class="col-xs-3 col-sm-3 col-lg-3 col-md-3 card card-3 au-animate"> <div class="image"></div> <div> <span>Bières</span> </div> </div> <div click.delegate="navAPropos()" class="col-xs-3 col-sm-3 col-lg-3 col-md-3 card card-4 au-animate"> <div class="image"></div> <div> <span>À propos</span> </div> </div> </div> </div> </div> </section> </template>'})}(),function(){var a=System.amdDefine,b=this&&this.__decorate||function(a,b,c,d){var e,f=arguments.length,g=3>f?b:null===d?d=Object.getOwnPropertyDescriptor(b,c):d;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)g=Reflect.decorate(a,b,c,d);else for(var h=a.length-1;h>=0;h--)(e=a[h])&&(g=(3>f?e(g):f>3?e(b,c,g):e(b,c))||g);return f>3&&g&&Object.defineProperty(b,c,g),g},c=this&&this.__metadata||function(a,b){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(a,b):void 0};a("bienvenue.js",["require","exports","aurelia-framework","aurelia-router"],function(a,d,e,f){"use strict";var g=function(){function a(a){this.router=a}return a.prototype.navMembres=function(){this.router.navigate("membres")},a.prototype.navAssemblees=function(){this.router.navigate("assemblees")},a.prototype.navBieres=function(){this.router.navigate("bieres")},a.prototype.navAPropos=function(){this.router.navigate("apropos")},a=b([e.autoinject,c("design:paramtypes",[f.Router])],a)}();d.Bienvenue=g})}(),function(){var a=System.amdDefine;a("bieres.html!github:systemjs/plugin-text@0.0.3.js",[],function(){return"<template> <section class=\"au-animate\"> <div class=\"bieres\"> <table> <thead> <th click.delegate=\"sortBeers('Name')\">Nom <span if.bind=\"sortBy === 'Name'\" class=\"fa fa-angle-${sortDesc ? 'down' : 'up'}\"></span></th> <th click.delegate=\"sortBeers('Brewery')\">Brasserie <span if.bind=\"sortBy === 'Brewery'\" class=\"fa fa-angle-${sortDesc ? 'down' : 'up'}\"></span></th> <th click.delegate=\"sortBeers('Origin')\">Origine <span if.bind=\"sortBy === 'Origin'\" class=\"fa fa-angle-${sortDesc ? 'down' : 'up'}\"></span></th> <th click.delegate=\"sortBeers('Type')\">Type <span if.bind=\"sortBy === 'Type'\" class=\"fa fa-angle-${sortDesc ? 'down' : 'up'}\"></span></th> <th click.delegate=\"sortBeers('Alcohol')\">Alcool <span if.bind=\"sortBy === 'Alcohol'\" class=\"fa fa-angle-${sortDesc ? 'down' : 'up'}\"></span></th> </thead> <tbody> <tr repeat.for=\"beer of beers\"> <td> ${beer.name} </td> <td> ${beer.brewery} </td> <td> ${beer.origin} </td> <td> ${beer.type} </td> <td> ${beer.alcohol.toFixed(1)}% alc./vol </td> </tr> </tbody> </table> </div> </section> </template>"})}(),function(){var a=System.amdDefine,b=this&&this.__decorate||function(a,b,c,d){var e,f=arguments.length,g=3>f?b:null===d?d=Object.getOwnPropertyDescriptor(b,c):d;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)g=Reflect.decorate(a,b,c,d);else for(var h=a.length-1;h>=0;h--)(e=a[h])&&(g=(3>f?e(g):f>3?e(b,c,g):e(b,c))||g);return f>3&&g&&Object.defineProperty(b,c,g),g},c=this&&this.__metadata||function(a,b){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(a,b):void 0};a("bieres.js",["require","exports","aurelia-framework","aurelia-http-client","./modules/datasource"],function(a,d,e,f,g){"use strict";var h=function(){function a(a){this.beers=[],this.sortBy="Name",this.sortDesc=!1,this.http=a}return a.prototype.activate=function(){var a=this;return this.http.get("/data/bieres.json").then(function(b){var c=$.parseJSON(b.response),d=$.extend(new g.Model,c);d.tastings.forEach(function(b){if(b.photos&&!(b.photos.length<1)){var c=b.photos[0];c=c.substring(0,c.lastIndexOf(".")),b.beers.forEach(function(b,d){b.image=c+"-"+(d+1)+".jpg",-1===a.beers.findIndex(function(a){return a.name===b.name})&&a.beers.push(b)})}}),a.beers=a.beers.sort(a.sortByName)})},a.prototype.sortBeers=function(a){switch(a===this.sortBy&&(this.sortDesc=!this.sortDesc),this.sortBy=a,this.sortBy){case"Name":this.beers=this.beers.sort(this.sortByName);break;case"Brewery":this.beers=this.beers.sort(this.sortByBrewery);break;case"Origin":this.beers=this.beers.sort(this.sortByOrigin);break;case"Type":this.beers=this.beers.sort(this.sortByType);break;case"Alcohol":this.beers=this.beers.sort(this.sortByAlcohol)}this.sortDesc&&(this.beers=this.beers.reverse())},a.prototype.sortByName=function(a,b){return a.name<b.name?-1:a.name>b.name?1:0},a.prototype.sortByBrewery=function(a,b){return a.brewery<b.brewery?-1:a.brewery>b.brewery?1:0},a.prototype.sortByOrigin=function(a,b){return a.origin<b.origin?-1:a.origin>b.origin?1:0},a.prototype.sortByType=function(a,b){return a.type<b.type?-1:a.type>b.type?1:0},a.prototype.sortByAlcohol=function(a,b){return a.alcohol<b.alcohol?-1:a.alcohol>b.alcohol?1:0},a=b([e.autoinject,c("design:paramtypes",[f.HttpClient])],a)}();d.Bieres=h})}(),function(){var a=System.amdDefine;a("main.js",["require","exports","bootstrap"],function(a,b){"use strict";function c(a){a.use.standardConfiguration().developmentLogging(),a.use.plugin("aurelia-animator-css"),a.use.plugin("aurelia-dialog"),a.start().then(function(){return a.setRoot()})}b.configure=c})}(),function(){var a=System.amdDefine;a("membres.html!github:systemjs/plugin-text@0.0.3.js",[],function(){return'<template> <section class="au-animate"> <div class="container"> <div class="row featurette" repeat.for="member of data"> <div if.bind="$odd" class="col-md-7"> <h2 class="featurette-heading">${member.name} <span class="text-muted">${member.title}</span></h2> <p class="lead">${member.description}</p> </div> <div class="col-md-5"> <img class="featurette-image img-responsive center-block" alt="" src="/images/membres/${member.photo}"> </div> <div if.bind="$even" class="col-md-7"> <h2 class="featurette-heading">${member.name} <span class="text-muted">${member.title}</span></h2> <p class="lead">${member.description}</p> </div> </div> </div> </section> </template>'})}(),function(){var a=System.amdDefine,b=this&&this.__decorate||function(a,b,c,d){var e,f=arguments.length,g=3>f?b:null===d?d=Object.getOwnPropertyDescriptor(b,c):d;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)g=Reflect.decorate(a,b,c,d);else for(var h=a.length-1;h>=0;h--)(e=a[h])&&(g=(3>f?e(g):f>3?e(b,c,g):e(b,c))||g);return f>3&&g&&Object.defineProperty(b,c,g),g},c=this&&this.__metadata||function(a,b){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(a,b):void 0};a("membres.js",["require","exports","aurelia-framework","aurelia-http-client","./modules/datasource","jquery"],function(a,d,e,f,g,h){"use strict";var i=function(){function a(a){this.http=a}return a.prototype.activate=function(){var a=this;return this.http.get("/data/bieres.json").then(function(b){var c=h.parseJSON(b.response),d=h.extend(new g.Model,c);a.data=d.members})},a.prototype.attached=function(){},a=b([e.autoinject,c("design:paramtypes",[f.HttpClient])],a)}();d.Membres=i})}(),function(){var a=System.amdDefine;a("nav-bar.html!github:systemjs/plugin-text@0.0.3.js",[],function(){return'<template bindable="router"> <nav class="navbar navbar-default navbar-fixed-top" role="navigation"> <div class="navbar-header"> <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1"> <span class="sr-only">Toggle Navigation</span> <span class="icon-bar"></span> <span class="icon-bar"></span> <span class="icon-bar"></span> </button> <a class="navbar-brand" href="#"> <img src="/images/brand/logo-transparent-sans-titre-petit.png" alt="logo"> <span innerHTML.bind="router.title"></span> </a> </div> <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1"> <ul class="nav navbar-nav"> <li repeat.for="row of router.navigation" class="${row.isActive ? \'active\' : \'\'}"> <a data-toggle="collapse" data-target="#bs-example-navbar-collapse-1.in" href.bind="row.href">${row.title}</a> </li> </ul> <ul class="nav navbar-nav navbar-right"> <li class="loader" if.bind="router.isNavigating"> <i class="fa fa-spinner fa-spin fa-2x"></i> </li> </ul> </div> </nav> </template>'})}();